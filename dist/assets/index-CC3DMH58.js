(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}})();const d=document.getElementById("openModal"),a=document.getElementById("closeModal"),i=document.getElementById("modal"),c=()=>{i?.classList.remove("active"),document.body.classList.remove("modal-open")};d?.addEventListener("click",()=>{i?.classList.add("active"),document.body.classList.add("modal-open")});a?.addEventListener("click",c);i?.addEventListener("click",n=>{n.target===i&&c()});String.prototype.isValidName=function(){const n=this.trim();return n.length>=2&&/^[a-zA-Zа-яА-ЯёЁ\s]+$/.test(n)};String.prototype.isValidEmail=function(){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(this.trim())};String.prototype.isValidMessage=function(){return this.trim().length>=5};document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("closeModal"),o=document.getElementById("contactForm");n.addEventListener("click",c),o.addEventListener("submit",async l=>{l.preventDefault(),console.log("Форма сабмитится");const r=o.elements.namedItem("name").value,e=o.elements.namedItem("email").value,t=o.elements.namedItem("message").value;if(!(!r.isValidName()||!e.isValidEmail()||!t.isValidMessage()))try{const s=await fetch("https://jsonplaceholder.typicode.com/todos/1",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,email:e,message:t})});console.log("Ответ сервера:",s),c(),o.reset()}catch(s){console.error(s)}})});
